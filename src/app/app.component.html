<div class="container">
    <form (ngSubmit)="onSubmit()" #emailForm="ngForm">
      <div class="field">
        <label class="label">Enter Email</label>
        <input 
        class="input"
        type="email" 
        pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$" 
        name="email" 
        [(ngModel)]="email" required email
        #emailControl = "ngModel"
        [ngClass]="{'is-danger':emailControl.invalid && emailControl.touched}"
        />
        <ng-container *ngIf="emailControl.invalid && emailControl.touched">
          <div class="help is-danger" *ngIf="emailControl.errors?.['required']">
            You must enter an email.
          </div>
          <div class="help is-danger" *ngIf="emailControl.errors?.['pattern']">
            Please enter a valid email.
          </div>
        </ng-container>
    </div>
      <button class="button is-primary" [disabled]="emailForm.invalid">
        Submit
      </button>
    </form>
</div>
<hr/>
<div>Is form valid: {{emailForm.valid}}</div>
<div>Form values: {{emailForm.value | json }}</div>
<div>Email validation errors: {{ emailForm.controls['email'].errors | json }}</div>

